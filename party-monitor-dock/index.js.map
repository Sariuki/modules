{"version":3,"file":"./index.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./scripts/settings.js","webpack:///./scripts/app.js","webpack:///./scripts/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { MODULE_ID } from \"./main.js\";\r\n\r\nexport function registerSettings() {\r\n    const settings = {\r\n        \"hideSceneNav\": {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: () => ui.partyMonitorDock.setVisibility()\r\n        },\r\n        \"hidePartyMonitor\": {\r\n            scope: \"client\",\r\n            config: false,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: () => ui.partyMonitorDock.setVisibility()\r\n        },\r\n        \"portraitSize\": {\r\n            name: `${MODULE_ID}.settings.portraitSize.name`,\r\n            hint: `${MODULE_ID}.settings.portraitSize.hint`,\r\n            scope: \"client\",\r\n            config: true,\r\n            type: String,\r\n            choices: {\r\n                \"30px\": \"combat-tracker-dock.settings.portraitSize.choices.30px\",\r\n                \"50px\": \"combat-tracker-dock.settings.portraitSize.choices.50px\",\r\n                \"70px\": \"combat-tracker-dock.settings.portraitSize.choices.70px\",\r\n                \"90px\": \"combat-tracker-dock.settings.portraitSize.choices.90px\",\r\n                \"110px\": \"combat-tracker-dock.settings.portraitSize.choices.110px\",\r\n                \"150px\": \"combat-tracker-dock.settings.portraitSize.choices.150px\",\r\n                \"180px\": \"combat-tracker-dock.settings.portraitSize.choices.180px\",\r\n            },\r\n            default: \"70px\",\r\n            onChange: () => {\r\n                ui.partyMonitorDock.updateSettings();\r\n            },\r\n        },\r\n        \"dockAlignment\": {\r\n            name: `${MODULE_ID}.settings.dockAlignment.name`,\r\n            hint: `${MODULE_ID}.settings.dockAlignment.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            type: String,\r\n            choices: {\r\n                \"flex-start\": `${MODULE_ID}.settings.dockAlignment.choices.flex-start`,\r\n                \"center\": `${MODULE_ID}.settings.dockAlignment.choices.center`,\r\n                \"flex-end\": `${MODULE_ID}.settings.dockAlignment.choices.flex-end`,\r\n            },\r\n            default: \"center\",\r\n            onChange: () => {\r\n                ui.partyMonitorDock.updateSettings();\r\n            },\r\n        },\r\n        \"dockSide\": {\r\n            name: `${MODULE_ID}.settings.dockSide.name`,\r\n            hint: `${MODULE_ID}.settings.dockSide.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            type: String,\r\n            choices: {\r\n                \"left\": `${MODULE_ID}.settings.dockSide.choices.left`,\r\n                \"right\": `${MODULE_ID}.settings.dockSide.choices.right`,\r\n            },\r\n            default: \"left\",\r\n            onChange: () => {\r\n                ui.partyMonitorDock.updateSettings();\r\n            },\r\n        },\r\n        \"onlyConnected\": {\r\n            name: `${MODULE_ID}.settings.onlyConnected.name`,\r\n            hint: `${MODULE_ID}.settings.onlyConnected.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: () => ui.partyMonitorDock.renderPartyMembers(),\r\n        },\r\n        \"hideInCombat\": {\r\n            name: `${MODULE_ID}.settings.hideInCombat.name`,\r\n            hint: `${MODULE_ID}.settings.hideInCombat.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: () => ui.partyMonitorDock._onCombatUpdate(),\r\n        },\r\n        \"hideCompanions\": {\r\n            name: `${MODULE_ID}.settings.hideCompanions.name`,\r\n            hint: `${MODULE_ID}.settings.hideCompanions.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            default: false,\r\n            type: Boolean,\r\n            onChange: () => ui.partyMonitorDock.renderPartyMembers(),\r\n        },\r\n        \"cornerImage\": {\r\n            name: `${MODULE_ID}.settings.cornerImage.name`,\r\n            hint: `${MODULE_ID}.settings.cornerImage.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            type: String,\r\n            default: \"modules/party-monitor-dock/assets/border-fantasy-dark-2/corner.png\",\r\n            filePicker: \"imagevideo\",\r\n            onChange: () => ui.partyMonitorDock.render(true),\r\n        },\r\n        \"edgeImage\": {\r\n            name: `${MODULE_ID}.settings.edgeImage.name`,\r\n            hint: `${MODULE_ID}.settings.edgeImage.hint`,\r\n            scope: \"world\",\r\n            config: true,\r\n            type: String,\r\n            default: \"modules/party-monitor-dock/assets/border-fantasy-dark-2/edge.png\",\r\n            filePicker: \"imagevideo\",\r\n            onChange: () => ui.partyMonitorDock.render(true),\r\n        },\r\n    };\r\n\r\n    registerSettingsArray(settings);\r\n}\r\n\r\nexport function getSetting(key) {\r\n    return game.settings.get(MODULE_ID, key);\r\n}\r\n\r\nexport async function setSetting(key, value) {\r\n    return await game.settings.set(MODULE_ID, key, value);\r\n}\r\n\r\nfunction registerSettingsArray(settings) {\r\n    for(const [key, value] of Object.entries(settings)) {\r\n        game.settings.register(MODULE_ID, key, value);\r\n    }\r\n}","import { MODULE_ID } from \"./main.js\";\r\nimport { getSetting, setSetting } from \"./settings.js\";\r\n\r\nexport class PartyMonitorDock extends Application {\r\n    constructor() {\r\n        super();\r\n        ui.partyMonitorDock = this;\r\n        this.checkSizeAndMoveButtons = foundry.utils.debounce(this.checkSizeAndMoveButtons, 550);\r\n        this.setHooks();\r\n        this.updateSettings();\r\n    }\r\n\r\n    static get APP_ID() {\r\n        return \"party-monitor-dock\";\r\n    }\r\n\r\n    static get defaultOptions() {\r\n        return foundry.utils.mergeObject(super.defaultOptions, {\r\n            id: this.APP_ID,\r\n            template: `modules/${MODULE_ID}/templates/${this.APP_ID}.hbs`,\r\n            popOut: false,\r\n            resizable: false,\r\n            minimizable: false,\r\n            title: game.i18n.localize(`${MODULE_ID}.${this.APP_ID}.title`),\r\n        });\r\n    }\r\n\r\n    setHooks() {\r\n        this.hooks = [\r\n            {\r\n                hook: \"renderSceneControls\",\r\n                callback: this.onRender.bind(this),\r\n            },\r\n            {\r\n                hook: \"createToken\",\r\n                callback: this.refreshCompanions.bind(this),\r\n            },\r\n            {\r\n                hook: \"deleteToken\",\r\n                callback: this.refreshCompanions.bind(this),\r\n            },\r\n            {\r\n                hook: \"updateActor\",\r\n                callback: (actor) => this._onActorUpdate(actor.id),\r\n            },\r\n            {\r\n                hook: \"deleteActiveEffect\",\r\n                callback: (effect) => this._onActorUpdate(effect.parent?.id),\r\n            },\r\n            {\r\n                hook: \"createActiveEffect\",\r\n                callback: (effect) => this._onActorUpdate(effect.parent?.id),\r\n            },\r\n            {\r\n                hook: \"canvasReady\",\r\n                callback: this.renderPartyMembers.bind(this),\r\n            },\r\n            {\r\n                hook: \"userConnected\",\r\n                callback: this.renderPartyMembers.bind(this),\r\n            },\r\n            {\r\n                hook: \"updateCombat\",\r\n                callback: this._onCombatUpdate.bind(this),\r\n            },\r\n            {\r\n                hook: \"deleteCombat\",\r\n                callback: this._onCombatUpdate.bind(this),\r\n            }\r\n        ];\r\n\r\n        this.hooks.forEach(({ hook, callback }) => Hooks.on(hook, callback));\r\n    }\r\n\r\n    async getData() {\r\n        return {\r\n            cornerImage: getSetting(\"cornerImage\"),\r\n            dockRight: getSetting(\"dockSide\") === \"right\",\r\n        };\r\n    }\r\n\r\n    activateListeners(html) {\r\n        super.activateListeners(html);\r\n        html = html[0] ?? html;\r\n        this.partyContainer = html.querySelector(\"#party-container\");\r\n        this.renderPartyMembers();\r\n        this.inject();\r\n\r\n        html.querySelector(\"#party-monitor-toggle-controls\").addEventListener(\"click\", () => {\r\n            const hideSceneNav = !getSetting(\"hideSceneNav\");\r\n            setSetting(\"hideSceneNav\", hideSceneNav);\r\n        });\r\n\r\n        html.querySelector(\"#party-monitor-toggle\").addEventListener(\"click\", () => {\r\n            const hidePartyMonitor = !getSetting(\"hidePartyMonitor\");\r\n            setSetting(\"hidePartyMonitor\", hidePartyMonitor);\r\n        });\r\n\r\n        html.querySelector(\"#party-monitor-reduce\").addEventListener(\"click\", () => {\r\n            this.changeSize(-1);\r\n        });\r\n\r\n        html.querySelector(\"#party-monitor-enlarge\").addEventListener(\"click\", () => {\r\n            this.changeSize(1);\r\n        });\r\n        this.onRender();\r\n    }\r\n\r\n    onRender() {\r\n        if(!this.element[0]) return;\r\n        this.setVisibility();\r\n        this.checkSizeAndMoveButtons();\r\n        this._onCombatUpdate();\r\n    }\r\n\r\n    changeSize(amount) {\r\n        const current = getSetting(\"portraitSize\");\r\n        const values = Object.keys(game.settings.settings.get(\"party-monitor-dock.portraitSize\").choices);\r\n        const index = values.indexOf(current);\r\n        const newIndex = Math.max(0, Math.min(values.length - 1, index + amount));\r\n        setSetting(\"portraitSize\", values[newIndex]);\r\n        this.checkSizeAndMoveButtons();\r\n    }\r\n\r\n    setVisibility() {\r\n        if (!this.element[0]) return;\r\n        const hidePartyMonitor = getSetting(\"hidePartyMonitor\");\r\n        this.element[0].classList.toggle(\"party-dock-hidden\", hidePartyMonitor);\r\n\r\n        const hideSceneNav = getSetting(\"hideSceneNav\");\r\n        const controls = document.querySelector(\"#controls\");\r\n        controls.classList.toggle(\"party-dock-hidden\", hideSceneNav);\r\n        this.element[0].classList.toggle(\"nav-visible\", !hideSceneNav);\r\n        this.inject();\r\n    }\r\n\r\n    updateSettings() {\r\n        const portraitSize = getSetting(\"portraitSize\");\r\n        const portraitAlignment = getSetting(\"dockAlignment\");\r\n        const dockSide = getSetting(\"dockSide\");\r\n        document.documentElement.style.setProperty(\"--pmd-portrait-width\", portraitSize);\r\n        document.documentElement.style.setProperty(\"--pmd-align\", portraitAlignment);\r\n        if(this.element[0]) this.element[0].classList.toggle(\"dock-ui-right\", dockSide !== \"left\");\r\n        this.inject();\r\n    }\r\n\r\n    inject() {\r\n        if (!this.element[0]) return;\r\n        const hidePartyMonitor = getSetting(\"hidePartyMonitor\");\r\n        const hideSceneNav = getSetting(\"hideSceneNav\");\r\n        const dockRight = getSetting(\"dockSide\") === \"right\";\r\n        if (dockRight) {\r\n            document.querySelector(\"#ui-right\").prepend(this.element[0]);\r\n            return;\r\n        }\r\n        if (hidePartyMonitor && !hideSceneNav) {\r\n            document.querySelector(\"#controls\").querySelector(\".main-controls\").append(this.element[0]);\r\n        } else {\r\n            document.querySelector(\"#controls\").append(this.element[0]);\r\n        }\r\n    }\r\n\r\n    checkSizeAndMoveButtons() {\r\n        const html = this.element[0];\r\n        const hudHeight = html.getBoundingClientRect().height;\r\n        let contentHeight = html.querySelector(\"#party-container\").getBoundingClientRect().height;\r\n        html.querySelectorAll(\".corner\").forEach((corner) => (contentHeight += corner.getBoundingClientRect().height));\r\n        html.querySelectorAll(\".party-monitor-buttons\").forEach((button) => (contentHeight += button.getBoundingClientRect().height));\r\n        contentHeight -= 10;\r\n        const isOverflowing = contentHeight > hudHeight;\r\n        html.querySelector(\".party-monitor-buttons.bottom\").style.order = isOverflowing ? -1 : null;\r\n    }\r\n\r\n    async renderPartyMembers() {\r\n        const edgeImage = getSetting(\"edgeImage\");\r\n        this.partyContainer.innerHTML = edgeImage ? `<div class=\"border-background\" style=\"background-image: url('${edgeImage}')\"></div>` : \"\";\r\n        const onlyConnected = getSetting(\"onlyConnected\");\r\n        let users = Array.from(game.users)\r\n            .filter((u) => u.character && u !== game.user && !u.isGM)\r\n            .sort((a, b) => a.character.name.localeCompare(b.character.name));\r\n        if (onlyConnected) users = users.filter((u) => u.active);\r\n        if (game.user.character && !game.user.isGM) users.unshift(game.user);\r\n        this.party = users.map(\r\n            (user) =>\r\n                new PartyMember(\r\n                    user,\r\n                    users.map((u) => u.character),\r\n                ),\r\n        );\r\n        this.party.forEach((member) => {\r\n            this.partyContainer.append(member.element);\r\n            member.render();\r\n        });\r\n    }\r\n\r\n    _onCombatUpdate() {\r\n        const inCombat = !!game.combat?.started;\r\n        const hideInCombat = getSetting(\"hideInCombat\");\r\n        this.element[0].classList.toggle(\"hide-in-combat\", hideInCombat && inCombat);\r\n    }\r\n\r\n    async _onActorUpdate(actorId) {\r\n        this.party.forEach((member) => member.refreshPortrait(actorId));\r\n    }\r\n\r\n    async refreshCompanions() {\r\n        this.party.forEach((member) => member.refreshCompanions());\r\n    }\r\n\r\n    async close(...args) {\r\n        this.hooks.forEach(({ hook, callback }) => Hooks.off(hook, callback));\r\n        super.close(...args);\r\n    }\r\n}\r\n\r\nclass PartyMember {\r\n    constructor(user, characters) {\r\n        this.user = user;\r\n        this.characters = characters;\r\n        this.companions = [];\r\n        this.element = document.createElement(\"div\");\r\n        this.element.classList.add(\"party-member-actors\");\r\n        if (this.user === game.user) this.element.classList.add(\"self\");\r\n        this.options = {};\r\n    }\r\n\r\n    getCompanions() {\r\n        const hideCompanions = getSetting(\"hideCompanions\");\r\n        if (hideCompanions) return this.companions = [];\r\n        const tokens = canvas.tokens.placeables.filter((token) => token.actor && token.actor.hasPlayerOwner && token.actor.testUserPermission(this.user, \"OWNER\"));\r\n        this.companions = tokens.map((token) => token.actor).filter((actor) => actor !== this.user.character && !this.characters.includes(actor) && !actor.flags[\"item-piles\"]?.data?.enabled);\r\n        return this.companions;\r\n    }\r\n\r\n    async render() {\r\n        this.element.innerHTML = \"\";\r\n        const companions = this.getCompanions();\r\n        const actors = [this.user.character, ...companions];\r\n        const handRaised = this.characters.filter((actor) => actor.getFlag(MODULE_ID, \"handRaised\")).sort((a, b) => b.getFlag(MODULE_ID, \"handRaised\") - a.getFlag(MODULE_ID, \"handRaised\")).reverse();\r\n        this.portraits = actors.map((actor) => new ActorPortrait(actor, companions.includes(actor)));\r\n        this.portraits.forEach((portrait) => {\r\n            portrait.handRaisedOrder = handRaised.length > 1 ? handRaised.indexOf(portrait.actor) + 1 : null;\r\n            this.element.append(portrait.element);\r\n            portrait.render();\r\n            if (this.companions.length && !portrait.isCompanion) this.addLinkButton();\r\n        });\r\n    }\r\n\r\n    addLinkButton() {\r\n        if (!game.Rideable) return;\r\n        if (!game.user.isGM && game.user !== this.user) return;\r\n        const iContainer = document.createElement(\"div\");\r\n        iContainer.classList.add(\"party-monitor-buttons\", \"link-button\");\r\n        const i = document.createElement(\"i\");\r\n        i.classList.add(\"fa-duotone\", \"fa-link\");\r\n        iContainer.append(i);\r\n        this.element.append(iContainer);\r\n        this.linkButton = i;\r\n        i.addEventListener(\"click\", () => this.toggleFollow());\r\n        this.setLinkIcon();\r\n    }\r\n\r\n    setLinkIcon(following = null) {\r\n        if (!this.linkButton) return;\r\n        if (following === null) following = this.areCompanionsFollowing();\r\n        this.linkButton.classList.toggle(\"fa-link\", !following);\r\n        this.linkButton.classList.toggle(\"fa-unlink\", following);\r\n        this.linkButton.dataset.tooltip = game.i18n.localize(following ? \"party-monitor-dock.app.buttons.stop-follow\" : \"party-monitor-dock.app.buttons.start-follow\");\r\n    }\r\n\r\n    toggleFollow(toggle) {\r\n        if (toggle !== undefined) {\r\n            return;\r\n        }\r\n        const playerToken = this.portraits[0].token;\r\n        const companions = this.companions.map((actor) => actor.parent ?? actor.getActiveTokens()[0]).filter((token) => token);\r\n        if (!companions.length) return;\r\n\r\n        const leaderId = playerToken.id;\r\n        const followerId = companions.map((token) => token.id);\r\n        const sceneId = game.scenes.viewed.id;\r\n        const isFollowing = this.areCompanionsFollowing();\r\n        if (isFollowing) {\r\n            game.Rideable.StopFollowbyID(followerId, sceneId);\r\n            const followText = game.i18n.localize(\"party-monitor-dock.notifications.unfollow\");\r\n            ui.notifications.info(companions.map((token) => token.name).join(\", \") + followText + playerToken.name);\r\n        } else {\r\n            game.Rideable.FollowbyID(followerId, leaderId, sceneId);\r\n            const followText = game.i18n.localize(\"party-monitor-dock.notifications.follow\");\r\n            ui.notifications.info(companions.map((token) => token.name).join(\", \") + followText + playerToken.name);\r\n        }\r\n        this.setLinkIcon(!isFollowing);\r\n    }\r\n\r\n    areCompanionsFollowing() {\r\n        const playerToken = this.portraits[0].token;\r\n        const companions = this.companions.map((actor) => actor.parent).filter((token) => token);\r\n        if (!companions.length) return false;\r\n        const leaderId = playerToken.id;\r\n        const isFollowing = companions.some((token) => token.flags?.Rideable?.followedTokenFlag === leaderId);\r\n        return isFollowing;\r\n    }\r\n\r\n    refreshCompanions() {\r\n        const current = this.companions;\r\n        const updated = this.getCompanions();\r\n        const isChanged = current.length !== updated.length || !current.every((actor) => updated.includes(actor));\r\n        if (isChanged) this.render();\r\n    }\r\n\r\n    refreshPortrait(actorId) {\r\n        this.portraits.filter((portrait) => portrait.actor.id === actorId).forEach((portrait) => portrait.render());\r\n    }\r\n}\r\n\r\nclass ActorPortrait {\r\n    constructor(actor, isCompanion = false) {\r\n        this.actor = actor;\r\n        this.element = document.createElement(\"div\");\r\n        this.element.classList.add(\"party-member-wrapper\");\r\n        this.options = {};\r\n        this.isCompanion = isCompanion;\r\n    }\r\n\r\n    get hasPermission() {\r\n        const playerPlayerPermission = this.actor?.hasPlayerOwner && game.settings.get(\"combat-tracker-dock\", \"playerPlayerPermission\");\r\n        const hasPermission = (this.actor?.permission ?? -10) >= CONST.DOCUMENT_OWNERSHIP_LEVELS.OBSERVER || this.actor.isOwner || playerPlayerPermission;\r\n        return hasPermission;\r\n    }\r\n\r\n    async render() {\r\n        const actor = this.actor;\r\n        this.element.innerHTML = await renderTemplate(`modules/${MODULE_ID}/templates/party-member-partial.hbs`, this.getData(this.actor));\r\n        this.element.style.backgroundImage = `url(${game.settings.get(\"combat-tracker-dock\", \"portraitImageBackground\")})`;\r\n        const portrait = this.element.querySelector(\".party-member\");\r\n        if (this.isCompanion) portrait.classList.add(\"companion\");\r\n\r\n        if (this.isCompanion) {\r\n            this.element.classList.add(\"companion\");\r\n        } else {\r\n            this.element.classList.add(\"character\");\r\n        }\r\n\r\n        const displayDescriptionsSetting = game.settings.get(\"combat-tracker-dock\", \"displayDescriptions\");\r\n        let displayDescriptions = false;\r\n        if (displayDescriptionsSetting === \"all\") displayDescriptions = true;\r\n        else if (displayDescriptionsSetting === \"owner\") displayDescriptions = this.actor.isOwner;\r\n\r\n        portrait.dataset.tooltip = await TextEditor.enrichHTML(await renderTemplate(`modules/combat-tracker-dock/templates/combatant-tooltip.hbs`, {\r\n            name: actor.name,\r\n            isInitiativeNaN: true,\r\n            hasPermission: this.hasPermission,\r\n            description: CONFIG.combatTrackerDock.generateDescription(actor),\r\n            hasAttributes: true,\r\n            attributes: this.getTrackedAttributes(actor),\r\n            hasEffects: true,\r\n            effects: actor.effects.filter((effect) => effect.active && effect.isTemporary),\r\n            displayDescriptions,\r\n        }));\r\n\r\n        portrait.dataset.tooltipClass = \"combat-dock-tooltip\";\r\n\r\n        const portraitBar = this.element.querySelector(\".portrait-bar\");\r\n        if (portraitBar) portraitBar.style.backgroundColor = game.settings.get(\"combat-tracker-dock\", \"attributeColorPortrait\");\r\n\r\n        this.activateListeners(this.element);\r\n        this._contextMenu(this.element);\r\n    }\r\n\r\n    get token() {\r\n        const token = this.actor?.parent?.object ?? this.actor.getActiveTokens()[0];\r\n        return token;\r\n    }\r\n\r\n    toggleFollowPartyMember() {\r\n        if (!game.Rideable || this.actor === game.user.character) return;\r\n\r\n        const playerToken = game.user.isGM ? canvas.tokens.controlled[0] : canvas.tokens.placeables.find((token) => token.actor === game.user.character);\r\n\r\n        const leader = this.token;\r\n\r\n        if (!leader || !playerToken || leader === playerToken) return;\r\n\r\n        const isFollowingLeader = playerToken?.document?.flags?.Rideable?.followedTokenFlag === leader.id;\r\n\r\n        const sceneId = game.scenes.viewed.id;\r\n\r\n        if (isFollowingLeader) {\r\n            game.Rideable.StopFollowbyID([playerToken.id], sceneId);\r\n            const followText = game.i18n.localize(\"party-monitor-dock.notifications.unfollow\");\r\n            ui.notifications.info(playerToken.name + followText + leader.name);\r\n        } else {\r\n            game.Rideable.FollowbyID([playerToken.id], leader.id, sceneId);\r\n            const followText = game.i18n.localize(\"party-monitor-dock.notifications.follow\");\r\n            ui.notifications.info(playerToken.name + followText + leader.name);\r\n        }\r\n    }\r\n\r\n    toggleMount() {\r\n        if (!game.Rideable || this.actor === game.user.character) return;\r\n\r\n        const playerToken = game.user.isGM ? canvas.tokens.controlled[0] : canvas.tokens.placeables.find((token) => token.actor === game.user.character);\r\n\r\n        const mount = this.token;\r\n\r\n        if (!mount || !playerToken || mount === playerToken) return;\r\n\r\n        const isMounted = playerToken?.document?.flags?.Rideable?.RidingFlag;\r\n\r\n        const sceneId = game.scenes.viewed.id;\r\n\r\n        //game.Rideable.Mount(pselectedTokens, pTarget, pRidingOptions)\r\n\r\n        if (isMounted) {\r\n            game.Rideable.UnMount([playerToken.document]);\r\n            const followText = game.i18n.localize(\"party-monitor-dock.notifications.unmount\");\r\n            ui.notifications.info(playerToken.name + followText + mount.name);\r\n        } else {\r\n            game.Rideable.Mount([playerToken.document], mount.document);\r\n            const followText = game.i18n.localize(\"party-monitor-dock.notifications.mount\");\r\n            ui.notifications.info(playerToken.name + followText + mount.name);\r\n        }\r\n    }\r\n\r\n    async raiseHand() {\r\n        const actor = this.actor;\r\n        if (!actor) return;\r\n        const timestamp = Date.now();\r\n        const current = actor.getFlag(MODULE_ID, \"handRaised\");\r\n        if(current) await actor.unsetFlag(MODULE_ID, \"handRaised\");\r\n        else await actor.setFlag(MODULE_ID, \"handRaised\", timestamp);\r\n        ui.partyMonitorDock.render(true);\r\n    }\r\n\r\n    activateListeners(html) {\r\n        const partyMember = html.querySelector(\".party-member\");\r\n\r\n        //double click to open sheet\r\n        partyMember.addEventListener(\"dblclick\", (event) => {\r\n            event.preventDefault();\r\n            this.actor.sheet.render(true);\r\n        });\r\n        //click to bring to token\r\n        partyMember.addEventListener(\"click\", (event) => {\r\n            event.preventDefault();\r\n            const token = this.token;\r\n            if (!token) return;\r\n            token.control({ releaseOthers: true });\r\n            return canvas.animatePan(token.center);\r\n        });\r\n\r\n        partyMember.addEventListener(\"mouseenter\", (event) => {\r\n            if (!this.token) return;\r\n            this.token._onHoverIn(event);\r\n        });\r\n\r\n        partyMember.addEventListener(\"mouseleave\", (event) => {\r\n            if (!this.token) return;\r\n            this.token._onHoverOut(event);\r\n        });\r\n\r\n        partyMember.addEventListener(\"dragstart\", (event) => {\r\n            event.dataTransfer.setData(\"text/plain\", JSON.stringify({ type: \"Actor\", uuid: this.actor.uuid }));\r\n        });\r\n\r\n        partyMember.draggable = game.user.can(\"TOKEN_CREATE\") && this.actor.isOwner;\r\n\r\n        (this.element.querySelectorAll(\".portrait-effect\") ?? []).forEach((effectEl) => {\r\n            //delete on right click\r\n            effectEl.addEventListener(\"contextmenu\", async (event) => {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                const uuid = effectEl.dataset.uuid;\r\n                const effect = await fromUuid(uuid);\r\n                const statusEffect = CONFIG.statusEffects.find((s) => s.img === effect.img);\r\n\r\n                const response = await Dialog.confirm({\r\n                    title: game.i18n.localize(`combat-tracker-dock.deleteEffectTitle`),\r\n                    content: game.i18n.localize(`combat-tracker-dock.deleteEffectContent`) + game.i18n.localize(effect?.label ?? statusEffect?.name ?? \"\") + \"?\",\r\n                    yes: () => true,\r\n                    no: () => false,\r\n                    defaultYes: false,\r\n                    close: () => false,\r\n                });\r\n                if (!response) return;\r\n                if (!effect) {\r\n                    this.token?.toggleEffect(uuid);\r\n                    return;\r\n                }\r\n                await effect.delete();\r\n                this.render(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    getData(actor) {\r\n        const data = actor;\r\n        const portraitResourceSetting = game.settings.get(\"combat-tracker-dock\", \"portraitResource\");\r\n        const resourceData = this.getResource(portraitResourceSetting, actor);\r\n        data.hasPortraitResource = resourceData.value !== null && resourceData.value !== undefined;\r\n        data.portraitResource = resourceData;\r\n        data.handRaised = actor.getFlag(MODULE_ID, \"handRaised\");\r\n        data.handRaisedOrder = this.handRaisedOrder;\r\n        const resource = this.getResource(game.settings.get(\"core\", \"combatTrackerConfig\").resource, actor);\r\n        const resource2 = this.getResource(game.settings.get(\"combat-tracker-dock\", \"resource\"), actor);\r\n\r\n        data.resource = resource;\r\n        data.resource2 = resource2;\r\n        const attributeVisibility = game.settings.get(\"combat-tracker-dock\", \"attributeVisibility\");\r\n\r\n        data.showBars = attributeVisibility === \"bars\" || attributeVisibility === \"both\";\r\n\r\n        data.showText = attributeVisibility === \"text\" || attributeVisibility === \"both\";\r\n\r\n        data.hasPermission = this.hasPermission;\r\n\r\n        if (!data.hasPermission) {\r\n            data.showBars = false;\r\n            data.showText = false;\r\n            data.resource = { value: null, max: null, percentage: null };\r\n            data.resource2 = { value: null, max: null, percentage: null };\r\n            data.portraitResource = { value: null, max: null, percentage: null };\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    getTrackedAttributes(actor) {\r\n        const trackedAttributes = game.settings\r\n            .get(\"combat-tracker-dock\", \"attributes\")\r\n            .map((a) => {\r\n                const resourceData = this.getResource(a.attr, actor);\r\n                const iconHasExtension = a.icon.includes(\".\");\r\n                return {\r\n                    ...resourceData,\r\n                    icon: iconHasExtension ? `<img src=\"${a.icon}\" />` : `<i class=\"${a.icon} icon\"></i>`,\r\n                    units: a.units || \"\",\r\n                };\r\n            })\r\n            .filter((a) => a.value !== null && a.value !== undefined);\r\n\r\n        return trackedAttributes;\r\n    }\r\n\r\n    getResource(resource = null, actor) {\r\n        let max, value, percentage;\r\n\r\n        if (!resource) return { max, value, percentage };\r\n\r\n        max = foundry.utils.getProperty(actor.system, resource + \".max\") ?? foundry.utils.getProperty(actor.system, resource.replace(\"value\", \"\") + \"max\");\r\n\r\n        value = foundry.utils.getProperty(actor.system, resource) ?? foundry.utils.getProperty(actor.system, resource + \".value\");\r\n        if (max !== undefined && value !== undefined && Number.isNumeric(max) && Number.isNumeric(value)) percentage = Math.round((value / max) * 100);\r\n\r\n        value = this.validateValue(value);\r\n        max = this.validateValue(max);\r\n\r\n        return { max, value, percentage };\r\n    }\r\n\r\n    validateValue(value) {\r\n        if (typeof value === \"boolean\") value = value ? \"\" : \"\";\r\n\r\n        if (Array.isArray(value)) value = value.join(\", \");\r\n\r\n        if (value === \"\") value = null;\r\n\r\n        if (!Number.isNumeric(value) && Object.prototype.toString.call(value) != \"[object String]\") value = null;\r\n\r\n        return value;\r\n    }\r\n\r\n    _contextMenu() {\r\n        if (this._contextAdded) return;\r\n        this._contextAdded = true;\r\n        const buttons = [];\r\n\r\n        if (this.actor.isOwner && !this.isCompanion) {\r\n            buttons.push({\r\n                name: `party-monitor-dock.app.buttons.context.raise-hand`,\r\n                icon: `<i class=\"fa-duotone fa-hand\"></i>`,\r\n                callback: async (elem) => {\r\n                    this.raiseHand();\r\n                },\r\n            });\r\n        }\r\n\r\n        if (game.Rideable && this.actor !== game.user.character) {\r\n            buttons.push(\r\n                {\r\n                    name: `party-monitor-dock.app.buttons.context.follow`,\r\n                    icon: `<i class=\"fa-solid fa-link\"></i>`,\r\n                    callback: async (elem) => {\r\n                        this.toggleFollowPartyMember();\r\n                    },\r\n                },\r\n                {\r\n                    name: `party-monitor-dock.app.buttons.context.mount`,\r\n                    icon: `<i class=\"fa-solid fa-horse\"></i>`,\r\n                    callback: async (elem) => {\r\n                        this.toggleMount();\r\n                    },\r\n                },\r\n            );\r\n        }\r\n\r\n        if (window.EpicRolls5e && game.user.isGM && !this.isCompanion) {\r\n            buttons.push({\r\n                name: `party-monitor-dock.app.buttons.context.epicRoll`,\r\n                icon: `<i class=\"fa-duotone fa-dice-d12\"></i>`,\r\n                callback: async (elem) => {\r\n                    const user = Array.from(game.users).find((u) => u.character === this.actor);\r\n                    if (!user) return;\r\n                    new EpicRolls5e.RequestEpicRoll(null, [user.id]).render(true);\r\n                },\r\n            });\r\n        }\r\n\r\n        new ContextMenu(this.element, \".party-member\", buttons);\r\n    }\r\n}\r\n","import {initConfig} from \"./config.js\";\r\nimport {registerSettings} from \"./settings.js\";\r\nimport { PartyMonitorDock } from \"./app.js\";\r\n\r\nexport const MODULE_ID = \"party-monitor-dock\";\r\n\r\nHooks.on(\"init\", () => {\r\n    initConfig();\r\n    registerSettings();\r\n});\r\n\r\nHooks.on(\"ready\", () => {\r\n    new PartyMonitorDock().render(true);\r\n})"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_regeneratorRuntime","Op","hasOwn","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","undefined","done","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_arrayLikeToArray","arr","len","arr2","Array","asyncGeneratorStep","gen","_next","_throw","getSetting","game","settings","MODULE_ID","setSetting","_x","_x2","_setSetting","apply","arguments","_callee","_context","set","args","_asyncToGenerator","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","input","hint","prim","toPrimitive","res","String","_toPrimitive","_get","Reflect","bind","property","receiver","base","_getPrototypeOf","_superPropBase","getOwnPropertyDescriptor","_setPrototypeOf","p","_assertThisInitialized","ReferenceError","PartyMonitorDock","_Application","subClass","superClass","_inherits","Application","_close","_refreshCompanions","_onActorUpdate2","_renderPartyMembers","_getData","Derived","hasNativeReflectConstruct","_super","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","Super","NewTarget","_possibleConstructorReturn","_this","ui","partyMonitorDock","checkSizeAndMoveButtons","foundry","utils","debounce","setHooks","updateSettings","_this2","this","hooks","hook","callback","onRender","refreshCompanions","actor","_onActorUpdate","id","effect","_effect$parent","parent","_effect$parent2","renderPartyMembers","_onCombatUpdate","_ref","Hooks","on","cornerImage","dockRight","html","_html$","_this3","partyContainer","querySelector","inject","addEventListener","changeSize","element","setVisibility","amount","current","choices","index","indexOf","Math","max","min","hidePartyMonitor","classList","toggle","hideSceneNav","document","portraitSize","portraitAlignment","dockSide","documentElement","style","setProperty","prepend","append","hudHeight","getBoundingClientRect","height","contentHeight","querySelectorAll","corner","button","isOverflowing","order","_callee2","edgeImage","onlyConnected","users","_this4","_context2","innerHTML","concat","from","filter","u","character","user","isGM","sort","a","b","localeCompare","active","unshift","party","map","PartyMember","member","render","_game$combat","inCombat","combat","started","hideInCombat","_callee3","actorId","_context3","refreshPortrait","_callee4","_context4","_callee5","_get2","_len","_key","_args5","_context5","_ref2","off","mergeObject","APP_ID","template","popOut","resizable","minimizable","title","i18n","localize","characters","companions","createElement","add","options","_render","_this5","tokens","canvas","placeables","token","hasPlayerOwner","testUserPermission","_actor$flags$itemPil","includes","flags","data","enabled","_callee6","actors","handRaised","_this6","_context6","getCompanions","getFlag","portraits","ActorPortrait","portrait","handRaisedOrder","isCompanion","addLinkButton","_this7","Rideable","iContainer","linkButton","toggleFollow","setLinkIcon","following","areCompanionsFollowing","dataset","tooltip","playerToken","_actor$parent","getActiveTokens","leaderId","followerId","sceneId","scenes","viewed","isFollowing","StopFollowbyID","followText","notifications","join","FollowbyID","some","_token$flags","followedTokenFlag","updated","every","_raiseHand","_render2","_this$actor","_this$actor$permissio","_this$actor2","playerPlayerPermission","permission","CONST","DOCUMENT_OWNERSHIP_LEVELS","OBSERVER","isOwner","_callee7","displayDescriptionsSetting","displayDescriptions","portraitBar","_context7","renderTemplate","getData","backgroundImage","t0","TextEditor","isInitiativeNaN","hasPermission","description","CONFIG","combatTrackerDock","generateDescription","hasAttributes","attributes","getTrackedAttributes","hasEffects","effects","isTemporary","t1","enrichHTML","tooltipClass","backgroundColor","activateListeners","_contextMenu","_this$actor$parent$ob","_this$actor3","_playerToken$document","controlled","find","leader","isFollowingLeader","_playerToken$document2","mount","isMounted","RidingFlag","UnMount","Mount","_callee8","timestamp","_context8","Date","now","unsetFlag","setFlag","_this$element$querySe","_this8","partyMember","event","preventDefault","sheet","control","releaseOthers","animatePan","center","_onHoverIn","_onHoverOut","dataTransfer","setData","JSON","stringify","uuid","draggable","can","effectEl","_ref3","_callee9","_ref4","_effect$label","statusEffect","_this8$token","_context9","stopPropagation","fromUuid","statusEffects","s","img","Dialog","confirm","content","label","yes","no","defaultYes","close","toggleEffect","portraitResourceSetting","resourceData","getResource","hasPortraitResource","portraitResource","resource","resource2","attributeVisibility","showBars","showText","percentage","_this9","attr","iconHasExtension","icon","_objectSpread","units","_foundry$utils$getPro","_foundry$utils$getPro2","getProperty","system","replace","Number","isNumeric","round","validateValue","isArray","toString","_this10","_contextAdded","_callback","_callback3","_callback2","_callback4","buttons","_callee10","elem","_context10","raiseHand","_x3","_callee11","_context11","toggleFollowPartyMember","_x4","_callee12","_context12","toggleMount","_x5","window","EpicRolls5e","_callee13","_context13","RequestEpicRoll","_x6","ContextMenu","_i","_Object$entries","entries","_Object$entries$_i","_arrayWithHoles","_s","_e","_r","_arr","_n","_d","_iterableToArrayLimit","minLen","n","test","_unsupportedIterableToArray","_nonIterableRest","register","registerSettingsArray","scope","config","default","onChange","filePicker"],"sourceRoot":""}